{% extends "base.html" %}
{% load sass_tags %}
{% load i18n %}
{% load thumbnail %}
{% load resources_extras %}

{% block csslist %}
<link href="{% sass_src 'scss/navbar-site.scss' %}" rel="stylesheet" type="text/css" />
<link href="{% sass_src 'scss/past.scss' %}" rel="stylesheet" type="text/css" />
<link href="{% sass_src 'scss/main.scss' %}" rel="stylesheet" type="text/css" />
<link href="{% sass_src 'scss/off-canvas.scss' %}" rel="stylesheet" type="text/css" />

<link type="text/css" rel="stylesheet" href="{{ STATIC_URL }}css/resources/resources-info.css">
<link type="text/css" rel="stylesheet" href="{{ STATIC_URL }}css/resources/resources.css">
<link type="text/css" rel="stylesheet" href="{{ STATIC_URL }}css/expandable-box.css">
<link type="text/css" rel="stylesheet" href="{{ STATIC_URL }}css/resources/resources-slaves.css">
<link type="text/css" rel="stylesheet" href="{{ STATIC_URL }}css/resources/resources-slaves-table.css">
<link type="text/css" rel="stylesheet" href="{{ STATIC_URL }}css/resources/resources-expandable-box.css">
{% endblock %}

{% block jslist %}
<script src="{{ STATIC_URL }}scripts/resources/resources-names.js" type="text/javascript"></script>
{% endblock %}

{% block title %}{% trans 'African Names' %}{% endblock %}

{% block content %}
<form id="form" name="form" method="post" action="{% url 'resources:origins' %}"
      enctype="application/x-www-form-urlencoded" >{% csrf_token %}

<div class="container-new">
	<div class="row  row-offcanvas row-offcanvas-right">
		<div class='col-md-4 col-xs-12 col-lg-3 sidebar-offcanvas' id="sidebar">
      {% include "resources/names-left-menu.html" %}
		</div>
		<div class="col-md-8 col-xs-12 col-lg-9 ">
			<p class="hidden-md">
        <button type="button" class="btn btn-trans btn-sm" data-toggle="offcanvas">
          <div>
            <span class="fa fa-exchange" style=" vertical-align: middle;"></span>
            <span>Toggle Sidebar</span>
          </div>
        </button>
      </p>

      <div class="page-title-1">{% trans "People of Atlantic Slave Trade Database" %}</div>

<div class="page-title-2">{% trans 'Your Current Query' %}</div>

      <div class="page-section">

        <div id="form:_idJsp164" class="box-main-text">
          <div class="query-summary">
            {% if current_query %}
              {% for val in current_query %}
                {% if forloop.last and val.1 %}
                  <div class="query-summary-item-last">
                    {% for k, v in val.1.items %}
                      <span class="query-summary-variable">{{ k }}</span>
                      :
                      <span class="query-summary-value">{{ v }}</span>
                    {% endfor %}
                  </div>
                {% elif val.1 %}
                  <div class="query-summary-item">
                    {% for k, v in val.1.items %}
                      <span class="query-summary-variable">{{ k }}</span>
                      :
                      <span class="query-summary-value">{{ v }}</span>
                    {% endfor %}
                  </div>
                {% endif %}
              {% endfor %}
            {% else %}
              <div class="query-summary">{% trans 'There are currently no conditions in your query. The listing on the right shows all Africans in the database.' %}</div>
            {% endif %}
          </div>
        </div>

      </div>

      <div class="page-section">
        {% trans 'Showing' %} {{ results.start_index }} - {{ results.end_index }} {% trans 'out of' %} {{ results.paginator.count }}
        {{ options_results_per_page_form.option }} {% trans 'results per page' %}
      </div>

      
      <div>
      <div>












      <!-- main data table -->
      <table class="table table-responsive">
        <thead>
          <tr>
          <th>
          {% ifequal sort_column "slave_id" %}
            {% ifequal sort_mode "1" %}
              <div class="grid-header-text grid-header-icon-asc">
            {% endifequal %}
            {% ifequal sort_mode "2" %}
              <div class="grid-header-text grid-header-icon-desc">
            {% endifequal %}
          {% else %}
            <div class="grid-header-text">
          {% endifequal %}
            <input type="hidden" id="sort_form_id" value="slave_id" name="sort_column" disabled="true">
            <a href="#" onclick="sort_results('sort_form_id');">{% trans 'ID' %}</a>
          </div>
          </th>

          <th>
          {% ifequal sort_column "slave_name" %}
            {% ifequal sort_mode "1" %}
              <div class="grid-header-text grid-header-icon-asc">
            {% endifequal %}
            {% ifequal sort_mode "2" %}
              <div class="grid-header-text grid-header-icon-desc">
            {% endifequal %}
          {% else %}
            <div class="grid-header-text">
          {% endifequal %}
            <input type="hidden" id="sort_form_name" value="slave_name" name="sort_column" disabled="true">
            <a href="#" onclick="sort_results('sort_form_name');">{% trans 'Name' %}</a>
          </div>
          </th>

          <th>
          {% ifequal sort_column "slave_age" %}
            {% ifequal sort_mode "1" %}
              <div class="grid-header-text grid-header-icon-asc">
            {% endifequal %}
            {% ifequal sort_mode "2" %}
              <div class="grid-header-text grid-header-icon-desc">
            {% endifequal %}
          {% else %}
            <div class="grid-header-text">
          {% endifequal %}
            <input type="hidden" id="sort_form_age" value="slave_age" name="sort_column" disabled="true">
            <a href="#" onclick="sort_results('sort_form_age');">{% trans 'Age' %}</a>
          </div>
          </th>

          <th>
          {% ifequal sort_column "slave_height" %}
            {% ifequal sort_mode "1" %}
              <div class="grid-header-text grid-header-icon-asc">
            {% endifequal %}
            {% ifequal sort_mode "2" %}
              <div class="grid-header-text grid-header-icon-desc">
            {% endifequal %}
          {% else %}
            <div class="grid-header-text">
          {% endifequal %}
            <input type="hidden" id="sort_form_height" value="slave_height" name="sort_column" disabled="true">
            <a href="#" onclick="sort_results('sort_form_height');">{% trans 'Height [in]' %}</a>
          </div>
          </th>

          <th>
          {% ifequal sort_column "slave_sex_age" %}
            {% ifequal sort_mode "1" %}
              <div class="grid-header-text grid-header-icon-asc">
            {% endifequal %}
            {% ifequal sort_mode "2" %}
              <div class="grid-header-text grid-header-icon-desc">
            {% endifequal %}
          {% else %}
            <div class="grid-header-text">
          {% endifequal %}
            <input type="hidden" id="sort_form_sexage" value="slave_sex_age" name="sort_column" disabled="true">
            <a href="#" onclick="sort_results('sort_form_sexage');">{% trans 'Sex/Age' %}</a>
          </div>
          </th>

          <th>
          {% ifequal sort_column "slave_country" %}
            {% ifequal sort_mode "1" %}
              <div class="grid-header-text grid-header-icon-asc">
            {% endifequal %}
            {% ifequal sort_mode "2" %}
              <div class="grid-header-text grid-header-icon-desc">
            {% endifequal %}
          {% else %}
            <div class="grid-header-text">
          {% endifequal %}
            <input type="hidden" id="sort_form_origin" value="slave_country" name="sort_column" disabled="true">
            <a href="#" onclick="sort_results('sort_form_origin');">{% trans 'Origin' %}</a>
          </div>
          </th>

          <th>
          {% ifequal sort_column "slave_voyage_number" %}
            {% ifequal sort_mode "1" %}
              <div class="grid-header-text grid-header-icon-asc">
            {% endifequal %}
            {% ifequal sort_mode "2" %}
              <div class="grid-header-text grid-header-icon-desc">
            {% endifequal %}
          {% else %}
            <div class="grid-header-text">
          {% endifequal %}
            <input type="hidden" id="sort_form_voyage" value="slave_voyage_number" name="sort_column" disabled="true">
            <a href="#" onclick="sort_results('sort_form_voyage');">{% trans 'Voyage ID' %}</a>
          </div>
          </th>

          <th>
          {% ifequal sort_column "slave_ship_name" %}
            {% ifequal sort_mode "1" %}
              <div class="grid-header-text grid-header-icon-asc">
            {% endifequal %}
            {% ifequal sort_mode "2" %}
              <div class="grid-header-text grid-header-icon-desc">
            {% endifequal %}
          {% else %}
            <div class="grid-header-text">
          {% endifequal %}
            <input type="hidden" id="sort_form_shipname" value="slave_ship_name" name="sort_column" disabled="true">
            <a href="#" onclick="sort_results('sort_form_shipname');">{% trans 'Ship name' %}</a>
          </div>
          </th>

          <th>
          {% ifequal sort_column "slave_date_arrived" %}
            {% ifequal sort_mode "1" %}
              <div class="grid-header-text grid-header-icon-asc">
            {% endifequal %}
            {% ifequal sort_mode "2" %}
              <div class="grid-header-text grid-header-icon-desc">
            {% endifequal %}
          {% else %}
            <div class="grid-header-text">
          {% endifequal %}
            <input type="hidden" id="sort_form_arrival" value="slave_date_arrived" name="sort_column" disabled="true">
            <a href="#" onclick="sort_results('sort_form_arrival');">{% trans 'Arrival' %}</a>
          </div>
          </th>

          <th>
          {% ifequal sort_column "slave_embarkation_port" %}
            {% ifequal sort_mode "1" %}
              <div class="grid-header-text grid-header-icon-asc">
            {% endifequal %}
            {% ifequal sort_mode "2" %}
              <div class="grid-header-text grid-header-icon-desc">
            {% endifequal %}
          {% else %}
            <div class="grid-header-text">
          {% endifequal %}
            <input type="hidden" id="sort_form_embarkation" value="slave_embarkation_port" name="sort_column" disabled="true">
            <a href="#" onclick="sort_results('sort_form_embarkation');">{% trans 'Embarkation' %}</a>
          </div>
          </th>

          <th>
          {% ifequal sort_column "slave_disembarkation_port" %}
            {% ifequal sort_mode "1" %}
              <div class="grid-header-text grid-header-icon-asc">
            {% endifequal %}
            {% ifequal sort_mode "2" %}
              <div class="grid-header-text grid-header-icon-desc">
            {% endifequal %}
          {% else %}
            <div class="grid-header-text">
          {% endifequal %}
            <input type="hidden" id="sort_form_disembarkation" value="slave_disembarkation_port" name="sort_column" disabled="true">
            <a href="#" onclick="sort_results('sort_form_disembarkation');">{% trans 'Disembarkation' %}</a>
          </div>
          </th>

          <th>
          <div class="grid-header-text">
            <a href="#">{% trans 'Go to African-Origins Record' %}</a>
          </div>
          </th>
        </tr>
        </thead>

        <tbody>
          {% for record in results %}
              {% if forloop.first %}
                <tr class="grid-row-even grid-row-first">
              {% else %}
                <tr class="grid-row-even">
              {% endif %}

              <td>{{ record.slave_id }}</td>
              <td>{{ record.object.name }}</td>
              {% if record.object.age  %}
                <td style="text-align: left">{{ record.object.age }}</td>
              {% else %}
                <td style="text-align: left"></td>
              {% endif %}
              {% if record.object.height  %}
                <td style="text-align: left">{{ record.object.height }}</td>
              {% else %}
                <td style="text-align: left"></td>
              {% endif %}
              {% if record.object.sex_age  %}
                <td>{{ record.object.sex_age }}</td>
              {% else %}
                <td></td>
              {% endif %}
              {% if record.object.country %}
                <td>{{ record.object.country.name }}</td>
              {% else %}
                <td></td>
              {% endif %}
              <td style="text-align: left">
              {% if record.object.voyage %}
                <a href="{% url 'voyage:voyage_variables' record.object.voyage_number %}">{{ record.object.voyage_number }}</a>
              {% else %}
                <a href="#" onclick="return alert('{% trans 'A transatlantic Voyage ID for this record does not yet exist, although further research might uncover one. The link in the rightmost column of the African Names Database table will take you to the matching entry in the African Origins database.' %}');">{{ record.object.voyage_number }}</a>
              {% endif %}
              </td>
              <td>{{ record.object.ship_name }}</td>
              <td style="text-align: left">{{ record.object.date_arrived }}</td>
              {% if record.object.embarkation_port %}
                <td>{{ record.object.embarkation_port }}</td>
              {% else %}
                <td></td>
              {% endif %}
              {% if record.object.disembarkation_port %}
                <td>{{ record.object.disembarkation_port }}</td>
              {% else %}
                <td></td>
              {% endif %}
              <td>
                <a href="http://african-origins.org/african-data/detail/{{ record.slave_id }}" target="_blank" onclick="return confirm("{% trans 'Redirecting to African Origins' %}");">{% trans 'GO' %}</a>
              </td>
              </tr>
          {% endfor %}
        </tbody>
      </table><!-- end of main data table -->











      </div>








      <!-- pagination -->



        <input type="hidden">
          <div class="dataTables_paginate paging_simple_numbers">
            <ul class="pagination">
            {# First, prev section #}
            {% if results.number != 1 %}
              <li class="paginate_button page-item previous">
                <input type="hidden" id="form_first_page" value="1" name="desired_page" disabled="true">
                <a href="#" onclick="retrieve_page('form_first_page');" class="page-link">{% trans 'First' %}</a>
              </li>
            {% else %}
              <li class="paginate_button page-item previous disabled">
                <a href="#" class="page-link">{% trans 'First' %}</a>
              </li>
            {% endif %}

            {% if results.has_previous %}
              <li class="paginate_button page-item previous">
                <input type="hidden" id="form_prev_page" value="{{ results.previous_page_number }}" name="desired_page" disabled="true">
                <a href="#" onclick="retrieve_page('form_prev_page');" class="page-link">{% trans 'Previous' %}</a>
              </li>
            {% else %}
              <li class="paginate_button page-item previous disabled">
                <a href="#" class="page-link">{% trans 'Previous' %}</a>
              </li>
            {% endif %}

            {# Paginator num pages #}
            {% for i in paginator_range %}
              {% if i == results.number %}
                <li class="paginate_button page-item active">
                  <a href="#" class="page-link">{{ i }}</a>
                </li>
              {% else %}
                <input type="hidden" id="form_page_{{ i }}" value="{{ i }}" name="desired_page" disabled="true">
                <li class="paginate_button page-item">
                  <a href="#" onclick="retrieve_page('form_page_{{ i }}');" class="page-link">{{ i }}</a>
                </li>
              {% endif %}
            {% endfor %}

            {% if results.has_next %}
              <li class="paginate_button page-item next">
                <input type="hidden" id="form_next_page" value="{{ results.next_page_number }}" name="desired_page" disabled="true">
                <a href="#" onclick="retrieve_page('form_next_page');" class="page-link">{% trans 'Next' %}</a>
              </li>
            {% else %}
              <li class="paginate_button page-item next disabled">
                <a href="#" class="page-link">{% trans 'Next' %}</a>
              </li>
            {% endif %}
            {% if results.has_next %}
              <li class="paginate_button page-item next">
                  <input type="hidden" id="form_last_page" value="{{ results.paginator.num_pages }}" name="desired_page" disabled="true">
                  <a href="#" onclick="retrieve_page('form_last_page');" class="page-link">{% trans 'Last' %}</a>
              </li>
            {% else %}
              <li class="paginate_button page-item next disabled">
                <a href="#" class="page-link">{% trans 'Last' %}</a>
              </li>
            {% endif %}
            </ul>
          </div>




      <!-- end of pagination -->

      </div>















      <button class="btn btn-outline-primary btn-outline btn-sm" type="submit" value="download_current_view" name="action">{% trans 'Download current view' %}</button>
      <button class="btn btn-outline-primary btn-outline btn-sm" type="submit" value="download_all" name="action">{% trans 'Download all results' %}</button>





      </div>





		</div>
	</div>
</div>








</form>


{% endblock %}

{% block footer %}
{% include "footer.html" %}
{% endblock %}
