{% verbatim %}
<table id="results_main_table" class="table table-striped table-bordered" cellspacing="0" width="100%">
  <thead>
    <tr>
      <th>Voyage ID</th>
      <th>Vessel Name</th>
      <th>Captain Name</th>
      <th>Year Arrived w. Slaves*</th>
      <th>Principal Region of Slave Purchase*</th>
      <th>Principal Region of Slave Landing*</th>
      <th>Place where Voyage Began*</th>
      <th>Total Slaves Embarked*</th>
      <th>Outcome if Ship Captured*</th>
      <th>Sources</th>
      <!-- <th>I-Am</th> -->
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>

<!-- Show Full Details of a Row -->
<b-modal v-model="rowModalShow" size="lg">
  <div slot="modal-title">
    <div class="v-modal-title">
      Full Detail
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <p>Here are the full details of a slave trade entry. <a href="#" @click="row.collapseVisible = !row.collapseVisible">Expand/Collapse</a> to see/hide all.<p>
    </div>
  </div>




  <div class="row" v-for="result in row.results">
    <div class="col-md-12">
      <b-card no-body class="mb-1">
        <b-card-header header-tag="header" class="pointer" role="tab">
          <div block href="#" v-b-toggle="result.group" variant="info" class="text-bold">{{result.groupName}}</div>
        </b-card-header>
        <b-collapse :id="result.group" :visible=row.collapseVisible role="tabpanel">
          <b-card-body>
            <div class="row" v-for="variable in result.variables">
              <div class='col-md-6 text-bold'>
                {{variable.label}}
              </div>
              <div class='col-md-6'>
                {{variable.value}}
              </div>
            </div>
          </b-card-body>
        </b-collapse>
      </b-card>
    </div>
  </div>

  <div slot="modal-footer">
   <b-btn size="sm" class="float-right" variant="info" @click="rowModalShow=false">
     Close
   </b-btn>
 </div>

</b-modal>

<!-- Show All Variables -->
<b-modal v-model="variablesModalShow" size="lg">
  <div slot="modal-title">
    <div class="v-modal-title">
      Current Search Variables
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      Note: Currently the select type of variable uses a code representation. I will convert it into a human readable form once the backend supports most of such variables.
    </div>
  </div>
  <div class="row" v-for="variable in currentQuery">
    <div class='col-md-12'>
      <pre class="text-bold inline">{{variable.label}}</pre>
      {{variable.op}}
      <code v-if="variable.searchTerm" v-text="variable.searchTerm"></code>
      <span v-else>
        <code>{{variable.searchTerm0}}</code>
        <span v-if="variable.searchTerm1">
        and <code>{{variable.searchTerm1}}</code>
      </pre>
    </div>
  </div>

  <div slot="modal-footer">
   <b-btn size="sm" class="float-right" variant="info" @click="variablesModalShow=false">
     Close
   </b-btn>
 </div>

</b-modal>
{% endverbatim %}
